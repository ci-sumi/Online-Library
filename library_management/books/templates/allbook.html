{% extends "librarybase.html" %}

{% block content %}
<div class="min-h-screen bg-gray-100 p-8">
  <h1 class="text-3xl font-bold mb-8 text-center">Book Catalog</h1>
  
  {% if books %}
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for book in books %}
        <div class="bg-white rounded-2xl shadow-md p-5 hover:shadow-xl transition duration-300">
          <h2 class="text-xl font-semibold text-blue-700 mb-2">{{ book.title }}</h2>
          
          <!-- Debugging: Check the image_url -->
          {% comment %} <p class="text-gray-500 text-xs">Image URL: {{ book.image_url }}</p> {% endcomment %}
          
          <!-- Display Book Cover Image -->
          {% if book.image_url != 'No image' %}
            <img src="{{ book.image_url }}" alt="Cover image of {{ book.title }}" class="w-full h-64 object-cover rounded-md mb-6">
          {% else %}
            <p class="text-center text-gray-600">No image available</p>
          {% endif %}
          
          <p class="text-gray-700"><strong>Author(s):</strong> {{ book.authors }}</p>
          <p class="text-gray-700"><strong>Published:</strong> {{ book.published_date }}</p>
          <p class="text-gray-700"><strong>Book ID:</strong> {{ book.book_id }}</p>
          <p class="text-gray-700"><strong>Categories:</strong> {{ book.categories }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-gray-600">No books found.</p>
  {% endif %}
</div>
{% endblock %}
